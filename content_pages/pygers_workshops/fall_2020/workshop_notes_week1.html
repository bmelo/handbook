
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pygers Workshop Notes - Week 1 (Fall 2020) &#8212; The Princeton Handbook for Reproducible Neuroimaging</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <link rel="canonical" href="https://brainhack-princeton.github.io/handbook//content_pages/pygers_workshops/fall_2020/workshop_notes_week1.html" />
    <link rel="shortcut icon" href="../../../_static/tigerBrain_favicon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    div.body {
      min-width: initial;
      max-width: initial;
    }
  </style>

  
  <link rel="canonical" href="https://handbook.datalad.org/content_pages/pygers_workshops/fall_2020/workshop_notes_week1/"/>
  <meta property="og:url" content="https://handbook.datalad.org/content_pages/pygers_workshops/fall_2020/workshop_notes_week1">
  

  <link rel="icon" type="image/png" href="https://media.readthedocs.org/images/favicon.png">

  <meta name="twitter:card" content="summary">
  <meta property="twitter:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:title" content="Pygers Workshop Notes - Week 1 (Fall 2020) &#8212; The Princeton Handbook for Reproducible Neuroimaging">
  <meta property="og:type" content="article">
  
  <meta property="og:description" content="">


  </head><body>
  <script type="text/javascript">

  $(window).scroll(function () {
    var s = $(window).scrollTop(),
          d = $(document).height(),
          c = $(window).height();
          scrollPercent = (s / (d-c)) * 100;
          var position = scrollPercent;

     $("#progressbar").attr('value', position);
  });
  </script>

  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
  <a href="../../../index.html">
    <img class="logo" width="500" src="../../../_static/tigerBrain.png" title="The Princeton Handbook on Reproducible Neuroimaging"/>
  </a>
</p>

<!-- <p style="margin-left:auto; margin-right: auto;"><iframe src="https://ghbtns.com/github-btn.html?repo=book&user=datalad-handbook&type=star&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe></p> -->

<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" /> -->
<style>
.algolia-autocomplete{
  width: 100%;
  height: 1.5em
}
.algolia-autocomplete a{
  border-bottom: none !important;
}
#doc_search{
  width: 100%;
  height: 100%;
}
</style>

<progress id="progressbar" value="0" max="100"></progress>
  <h3><a href="../../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Pygers Workshop Notes - Week 1 (Fall 2020)</a><ul>
<li><a class="reference internal" href="#basic-bash-commands">Basic bash commands</a></li>
<li><a class="reference internal" href="#using-vim">Using vim</a></li>
<li><a class="reference internal" href="#setup-a-pygers-conda-environment">Setup a pygers conda environment</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><!-- Alabaster (krTheme++) Hacks -->
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            <div style="display:block;position:relative; margin-bottom: 1em;">
              <div style="display:block;width:100%;padding-top:12.5%;"></div>
              <div class="rpad" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
            </div>
            
  <div class="section" id="pygers-workshop-notes-week-1-fall-2020">
<h1>Pygers Workshop Notes - Week 1 (Fall 2020)<a class="headerlink" href="#pygers-workshop-notes-week-1-fall-2020" title="Permalink to this headline">¶</a></h1>
<style> .blue {color:blue} </style><p><a class="reference external" href="https://appletree.or.kr/quick_reference_cards/Unix-Linux/Linux%20Command%20Line%20Cheat%20Sheet.pdf">Linux command line cheatsheet</a></p>
<p><a class="reference external" href="https://vim.rtorr.com/">Vim cheatsheet</a></p>
<p><a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/cheatsheet.html">conda cheatsheet</a></p>
<p><a class="reference external" href="../06-03-glossary.html">Glossary</a></p>
<div class="section" id="basic-bash-commands">
<h2>Basic bash commands<a class="headerlink" href="#basic-bash-commands" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># login to the server</span>
$ ssh -XY netID@scotty.pni.princeton.edu
$ <span class="nb">pwd</span>

$ <span class="nb">cd</span> /jukebox/LAB/YOURDIRECTORY
$ <span class="nb">pwd</span>
$ ls
$ ls -l
$ ls -a

<span class="c1"># make a workshop directory</span>
$ mkdir pygers_workshop
$ ls

<span class="c1"># copy new_study_template from pygers to your workshop directory, call it sample_study</span>
$ cp -r /jukebox/norman/pygers/handbook/new_study_template pygers_workshop/sample_study

<span class="c1"># explore sample_study</span>
$ tree
$ <span class="nb">cd</span> sample_study/code
$ ls

<span class="c1"># rename something</span>
$ mv -v task task_code
$ ls

<span class="c1"># delete something</span>
$ rm -r task_code
$ ls

<span class="c1"># make a new directory</span>
$ mkdir task

<span class="c1"># see which modules are available on the cluster</span>
$ module avail
$ module load fsl
$ module list
$ module purge

<span class="c1"># check out snapshot backups</span>
$ ls .snapshot
</pre></div>
</div>
</div>
<div class="section" id="using-vim">
<h2>Using vim<a class="headerlink" href="#using-vim" title="Permalink to this headline">¶</a></h2>
<p>From your server terminal window:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> preprocessing

<span class="c1"># print contents of file</span>
$ cat globals.sh

<span class="c1"># practice going from command mode to insert mode</span>
$ vim globals.sh

<span class="c1"># i to go to insert mode; esc to go to command mode</span>
<span class="c1"># :q to quit without saving</span>
</pre></div>
</div>
<p>Open a LOCAL terminal window:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># if you are running Catalina OS, you need to change your default shell</span>
<span class="c1"># This only has to be done one time!!</span>
$ chsh -s /bin/bash

<span class="c1"># edit local .bash_profile to add aliases</span>
$ vim .bash_profile

<span class="c1"># enter insert mode (i) and add the following:</span>
<span class="c1"># alias &#39;scotty&#39;=&#39;ssh -XY netID@scotty.pni.princeton.edu&#39;</span>
<span class="c1"># alias &#39;spock&#39;=&#39;ssh -XY netID@spock.pni.princeton.edu&#39;</span>
<span class="c1"># go back to command mode (esc)</span>
<span class="c1"># :x to save and exit</span>

$ <span class="nb">source</span> .bash_profile
$ scotty
</pre></div>
</div>
<p>You are now back on the server:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># edit your linux .bashrc on the server</span>
$ <span class="nb">cd</span> ~
$ vim .bashrc

<span class="c1"># enter insert mode (i) and add the following:</span>
<span class="c1"># alias &#39;pygers&#39;=&#39;cd /jukebox/LAB/YOURDIRECTORY/pygers_workshop&#39;</span>
<span class="c1"># go back to command mode (esc)</span>
<span class="c1"># :x to save and exit</span>

$ pygers <span class="c1">#this shouldn&#39;t work yet, you need to source your .bashrc</span>
$ <span class="nb">source</span> .bashrc
$ pygers
$ <span class="nb">pwd</span>
</pre></div>
</div>
</div>
<div class="section" id="setup-a-pygers-conda-environment">
<h2>Setup a pygers conda environment<a class="headerlink" href="#setup-a-pygers-conda-environment" title="Permalink to this headline">¶</a></h2>
<p>Note: We didn’t get to this in week 1. We will start with conda environments at the beginning of week 2.</p>
<p>You should setup your conda environment in the same “location” as your pygers_workshop working directory (i.e. either on your local machine if you are working locally, or on the server if you are working on the server). Follow the correct installation instructions below.</p>
<p>Server installation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># download latest miniconda for Linux in your home directory</span>
$ <span class="nb">cd</span> ~
$ wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh

<span class="c1"># run installation</span>
$ bash Miniconda3-latest-Linux-x86_64.sh

<span class="c1"># if you don&#39;t want this base environment automatically loaded when you login:</span>
$ conda config --set auto_activate_base <span class="nb">false</span>

<span class="c1"># source and take a look at your .bashrc</span>
$ <span class="nb">source</span> .bashrc
$ vim .bashrc

<span class="c1"># you can delete the installation file if you want</span>
$ rm -r Miniconda3-latest-Linux-x86_64.sh
</pre></div>
</div>
<p>Local installation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># download latest miniconda for MacOSX in your downloads directory</span>
$ <span class="nb">cd</span> ~/Downloads
$ curl -O  https://repo.anaconda.com/miniconda/Miniconda3-latest-MacOSX-x86_64.sh

<span class="c1"># run installation (it should install in your home directory by default)</span>
$ bash Miniconda3-latest-MacOSX-x86_64.sh

<span class="c1"># if you don&#39;t want this base environment automatically loaded when you login:</span>
$ conda config --set auto_activate_base <span class="nb">false</span>

<span class="c1"># source and take a look at your .bashrc</span>
$ <span class="nb">cd</span> ~
$ <span class="nb">source</span> .bash_profile
$ vim .bash_profile

<span class="c1"># you can delete the installation file if you want</span>
$ rm -r ~/Downloads/Miniconda3-latest-MacOSX-x86_64.sh
</pre></div>
</div>
<p>Everybody can now continue the conda setup following the same set of instructions:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># check your conda setup</span>
$ <span class="nb">cd</span> ~
$ which conda <span class="c1">#see where it is installed</span>
$ conda env list <span class="c1">#you should see a base environment listed</span>
$ conda --version <span class="c1">#latest is 4.8.5 as of Oct-12-2020</span>
$ conda --help <span class="c1">#useful commands</span>

<span class="c1"># if you need to update conda</span>
$ conda update -n base -c defaults conda

<span class="c1"># create environment called pygers</span>
$ conda create -n pygers
$ conda env list

<span class="c1"># activate your pygers environment</span>
$ conda activate pygers

<span class="c1"># check your python version</span>
$ python --version <span class="c1">#latest is 3.8.5 as of Oct-12-2020</span>
<span class="c1"># make sure you have python version 3.8 (as opposed to 2.7)</span>

<span class="c1"># if you need to update python:</span>
$ conda install python
$ python --version

<span class="c1"># install packages into your pygers environment</span>
$ conda install git numpy pandas jupyter

<span class="c1"># check your install; versions listed are latest as of Oct-12-2020</span>
$ conda list
$ git --version <span class="c1">#2.23.0</span>
$ jupyter --version <span class="c1">#core is 4.6.3</span>
$ python -c <span class="s2">&quot;import numpy; print(numpy.version.version)&quot;</span> <span class="c1">#1.19.1</span>
$ python -c <span class="s2">&quot;import pandas; print(pandas.__version__)&quot;</span> <span class="c1">#1.1.3</span>

<span class="c1"># deactivate conda environment</span>
$ conda deactivate
</pre></div>
</div>
<p><a class="reference external" href="./syllabus2020.html">Return to workshop info</a></p>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
<div class="footer">
  <div style="text-align: left;" id="waldo-tag-2171"></div>
  <p>&copy;2020 CC-BY-SA - <a href="website_info.html">Website Info</a></p>
</div>


 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>