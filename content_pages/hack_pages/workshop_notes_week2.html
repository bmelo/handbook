
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pygers Workshop Notes - Week 2 (Fall 2020) &#8212; The Princeton Handbook for Reproducible Neuroimaging</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="canonical" href="https://brainhack-princeton.github.io/handbook//content_pages/hack_pages/workshop_notes_week2.html" />
    <link rel="shortcut icon" href="../../_static/tigerBrain_favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    div.body {
      min-width: initial;
      max-width: initial;
    }
  </style>

  
  <link rel="canonical" href="https://handbook.datalad.org/content_pages/hack_pages/workshop_notes_week2/"/>
  <meta property="og:url" content="https://handbook.datalad.org/content_pages/hack_pages/workshop_notes_week2">
  

  <link rel="icon" type="image/png" href="https://media.readthedocs.org/images/favicon.png">

  <meta name="twitter:card" content="summary">
  <meta property="twitter:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:title" content="Pygers Workshop Notes - Week 2 (Fall 2020) &#8212; The Princeton Handbook for Reproducible Neuroimaging">
  <meta property="og:type" content="article">
  
  <meta property="og:description" content="">


  </head><body>
  <script type="text/javascript">

  $(window).scroll(function () {
    var s = $(window).scrollTop(),
          d = $(document).height(),
          c = $(window).height();
          scrollPercent = (s / (d-c)) * 100;
          var position = scrollPercent;

     $("#progressbar").attr('value', position);
  });
  </script>

  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
  <a href="../../index.html">
    <img class="logo" width="500" src="../../_static/tigerBrain.png" title="The Princeton Handbook on Reproducible Neuroimaging"/>
  </a>
</p>

<!-- <p style="margin-left:auto; margin-right: auto;"><iframe src="https://ghbtns.com/github-btn.html?repo=book&user=datalad-handbook&type=star&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe></p> -->

<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" /> -->
<style>
.algolia-autocomplete{
  width: 100%;
  height: 1.5em
}
.algolia-autocomplete a{
  border-bottom: none !important;
}
#doc_search{
  width: 100%;
  height: 100%;
}
</style>

<progress id="progressbar" value="0" max="100"></progress>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Pygers Workshop Notes - Week 2 (Fall 2020)</a><ul>
<li><a class="reference internal" href="#what-is-conda-why-do-we-use-it">What is conda? Why do we use it?</a></li>
<li><a class="reference internal" href="#set-up-a-pygers-conda-environment">Set up a pygers conda environment</a></li>
<li><a class="reference internal" href="#what-is-git-and-why-should-we-use-it-and-what-is-github">What is Git and why should we use it? And what is GitHub?</a></li>
<li><a class="reference internal" href="#practice-demo-familiarize-yourself-with-git">Practice Demo: Familiarize yourself with Git!</a></li>
<li><a class="reference internal" href="#using-git-github-with-our-sample-project">Using Git/GitHub with our Sample Project</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><!-- Alabaster (krTheme++) Hacks -->
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            <div style="display:block;position:relative; margin-bottom: 1em;">
              <div style="display:block;width:100%;padding-top:12.5%;"></div>
              <div class="rpad" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
            </div>
            
  <div class="section" id="pygers-workshop-notes-week-2-fall-2020">
<h1>Pygers Workshop Notes - Week 2 (Fall 2020)<a class="headerlink" href="#pygers-workshop-notes-week-2-fall-2020" title="Permalink to this headline">¶</a></h1>
<style> .blue {color:blue} </style><div class="section" id="what-is-conda-why-do-we-use-it">
<h2>What is conda? Why do we use it?<a class="headerlink" href="#what-is-conda-why-do-we-use-it" title="Permalink to this headline">¶</a></h2>
<p><em>Conda</em> is a <strong>package manager</strong>, similar to brew, apt, or pip. This package manager allows us to keep track of your python versions and keep all dependencies encapsulated in an <strong>environment</strong>, that can be easily shared or reproduced. This is especially helpful if you have multiple projects that require different package versions. Importantly, this prevents things from breaking if you have packages for different projects that can cause conflicts with one another.</p>
<p><em>Anaconda</em> is a free and open source <strong>software distribution</strong> for scientific computing that is managed by conda. It is pretty large to download, so you might want to use <em>Miniconda</em> instead. Miniconda is a minimal version of Anaconda.</p>
<p>Here is a <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/cheatsheet.html">conda cheatsheet</a> that you can use as you familiarize yourself with this package manager.</p>
</div>
<div class="section" id="set-up-a-pygers-conda-environment">
<h2>Set up a pygers conda environment<a class="headerlink" href="#set-up-a-pygers-conda-environment" title="Permalink to this headline">¶</a></h2>
<p>You should setup your conda environment in the same “location” as your pygers_workshop working directory (i.e. either on your local machine if you are working locally, or on the server if you are working on the server). Follow the correct installation instructions below.</p>
<p>Server installation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># download latest miniconda for Linux in your home directory</span>
$ <span class="nb">cd</span> ~
$ wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh

<span class="c1"># run installation</span>
$ bash Miniconda3-latest-Linux-x86_64.sh

<span class="c1"># if you don&#39;t want this base environment automatically loaded when you login:</span>
$ conda config --set auto_activate_base <span class="nb">false</span>

<span class="c1"># source and take a look at your .bashrc</span>
$ <span class="nb">source</span> .bashrc
$ vim .bashrc

<span class="c1"># you can delete the installation file if you want</span>
$ rm -r Miniconda3-latest-Linux-x86_64.sh
</pre></div>
</div>
<p>Local installation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># download latest miniconda for MacOSX in your downloads directory</span>
$ <span class="nb">cd</span> ~/Downloads
$ curl -O  https://repo.anaconda.com/miniconda/Miniconda3-latest-MacOSX-x86_64.sh

<span class="c1"># run installation (it should install in your home directory by default)</span>
$ bash Miniconda3-latest-MacOSX-x86_64.sh

<span class="c1"># if you don&#39;t want this base environment automatically loaded when you login:</span>
$ conda config --set auto_activate_base <span class="nb">false</span>

<span class="c1"># source and take a look at your .bashrc</span>
$ <span class="nb">cd</span> ~
$ <span class="nb">source</span> .bash_profile
$ vim .bash_profile

<span class="c1"># you can delete the installation file if you want</span>
$ rm -r ~/Downloads/Miniconda3-latest-MacOSX-x86_64.sh
</pre></div>
</div>
<p>Everybody can now continue the conda setup following the same set of instructions:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># check your conda setup</span>
$ <span class="nb">cd</span> ~
$ which conda <span class="c1">#see where it is installed</span>
$ conda env list <span class="c1">#you should see a base environment listed</span>
$ conda --version <span class="c1">#latest is 4.8.5 as of Oct-12-2020</span>
$ conda --help <span class="c1">#useful commands</span>

<span class="c1"># if you need to update conda</span>
$ conda update -n base -c defaults conda

<span class="c1"># create environment called pygers</span>
$ conda create -n pygers
$ conda env list

<span class="c1"># activate your pygers environment</span>
$ conda activate pygers

<span class="c1"># check your python version</span>
$ python --version <span class="c1">#latest is 3.8.5 as of Oct-12-2020</span>
<span class="c1"># make sure you have python version 3.8 (as opposed to 2.7)</span>

<span class="c1"># if you need to update python:</span>
$ conda install python
$ python --version

<span class="c1"># install packages into your pygers environment</span>
$ conda install git numpy pandas jupyter

<span class="c1"># check your install; versions listed are latest as of Oct-12-2020</span>
$ conda list
$ git --version <span class="c1">#2.23.0</span>
$ jupyter --version <span class="c1">#core is 4.6.3</span>
$ python -c <span class="s2">&quot;import numpy; print(numpy.version.version)&quot;</span> <span class="c1">#1.19.1</span>
$ python -c <span class="s2">&quot;import pandas; print(pandas.__version__)&quot;</span> <span class="c1">#1.1.3</span>

<span class="c1"># deactivate conda environment</span>
$ conda deactivate
</pre></div>
</div>
</div>
<div class="section" id="what-is-git-and-why-should-we-use-it-and-what-is-github">
<h2>What is Git and why should we use it? And what is GitHub?<a class="headerlink" href="#what-is-git-and-why-should-we-use-it-and-what-is-github" title="Permalink to this headline">¶</a></h2>
<p><em>Git</em> is a <strong>version control system</strong>, which means that it is a way in which project files can be manages and tracked over time. This is important because this means that Git can track the entire history of whatever files you are working on. Messed something up and wish you could go back in time? With Git, this is actually possible! Here is a <a class="reference external" href="https://education.github.com/git-cheat-sheet-education.pdf">git cheatsheet</a> that you can use as you familiarize yourself with this version control system.</p>
<p><em>GitHub</em> is a <strong>web-based service</strong> that allows you to do version control using Git. It has an easy-to-use web interface that allows you to clearly see your file history (in part, by highlighting additions and deletions to your files) and do many other cool things. For more information about Git and GitHub, check out <a class="reference external" href="https://codeburst.io/git-and-github-in-a-nutshell-b0a3cc06458f">this article</a>!</p>
</div>
<div class="section" id="practice-demo-familiarize-yourself-with-git">
<h2>Practice Demo: Familiarize yourself with Git!<a class="headerlink" href="#practice-demo-familiarize-yourself-with-git" title="Permalink to this headline">¶</a></h2>
<p><em>add here</em></p>
</div>
<div class="section" id="using-git-github-with-our-sample-project">
<h2>Using Git/GitHub with our Sample Project<a class="headerlink" href="#using-git-github-with-our-sample-project" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Create a new GitHub repository (<a class="reference external" href="https://docs.github.com/en/enterprise/2.15/user/articles/create-a-repo">link</a> to instructions) where you will track the files inside <span class="blue">pygers_workshop/sample_project/code/</span>.</p></li>
<li><p>Our sample project, which you copied last week, already has a .git attached to it that is <a class="reference external" href="https://github.com/brainhack-princeton/handbook-code">linked</a> to a repo on our Pygers GitHub account:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># show the URL that Git has stored in local repo</span>
$ git remote -v
<span class="c1"># OUTPUT:</span>
<span class="c1">#   origin    https://github.com/brainhack-princeton/handbook-code.git (fetch)</span>
<span class="c1">#   origin    https://github.com/brainhack-princeton/handbook-code.git (push)</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>You want to remove the link to the Pygers GitHub account and link it to the repo you created in Step 1 in your own GitHub account:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> <span class="o">[</span>YOUR_LOCAL_PATH<span class="o">]</span>/pygers_workshop/sample_project/code/
$ git remote -v
$ git remote rm origin
$ git remote add origin <span class="o">[</span>URL_TO_YOUR-REPO<span class="o">]</span>
<span class="c1"># confirm that your origin remote is linked to your github repo</span>
$ git remote -v
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Push the changes to your GitHub repo (in a way to automatically push to your repo in the future).</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git push -u origin master
</pre></div>
</div>
<p>Refresh your GitHub page online. You should be able to see the contents inside <span class="blue">pygers_workshop/sample_project/code/</span> on the repo.</p>
<ol class="arabic simple" start="5">
<li><p>Add .DS_Store to your your .gitignore and push it to your GitHub.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git status <span class="c1"># .DS_Store should appear in the list of untracked files</span>
$ vim .gitignore
$ .DS_Store
$ git add .gitignore
$ git commit -m <span class="s1">&#39;adding gitignore&#39;</span>
$ git push
$ git status <span class="c1"># .DS_Store should NOT appear in the list of untracked files</span>
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p>There are several things you need to change in the <span class="blue">globals.sh</span> file. Edit these things using vim (<cite>vim preprocessing/globals.sh</cite>)</p></li>
</ol>
<ul class="simple">
<li><p>Comment out <cite>module load anacondapy/5.3.1</cite></p></li>
<li><dl class="simple">
<dt>Set the <strong>scanner_dir</strong> to the location where the data lives:</dt><dd><ul>
<li><p>for PNI folks, the location is <span class="blue">/jukebox/norman/pygers/conquest</span></p></li>
<li><p>fot non-PNI folks, this should be the path to where you downloaded and saved the sample data</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Edit <strong>project_dir</strong> to where you have the sample_study code (e.g., /jukebox/LAB/YOURNAME/pygers_workshop/sample_study)</p></li>
</ul>
<p>Now, you need to commit and push the changes to your globals.sh file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add preprocessing/globals.sh
$ git commit -m <span class="s1">&#39;updating globals directory&#39;</span>
$ git push
</pre></div>
</div>
<p><a class="reference external" href="./syllabus2020.html">Return to workshop info</a></p>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
<div class="footer">
  <div style="text-align: left;" id="waldo-tag-2171"></div>
  <p>&copy;2020 CC-BY-SA - <a href="website_info.html">Website Info</a></p>
</div>


 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>