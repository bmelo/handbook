
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Using Git and GitHub to version control your code &#8212; The Princeton Handbook for Reproducible Neuroimaging</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="canonical" href="https://brainhack-princeton.github.io/handbook//content_pages/hack_pages/git.html" />
    <link rel="shortcut icon" href="../../_static/tigerBrain_favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    div.body {
      min-width: initial;
      max-width: initial;
    }
  </style>

  
  <link rel="canonical" href="https://handbook.datalad.org/content_pages/hack_pages/git/"/>
  <meta property="og:url" content="https://handbook.datalad.org/content_pages/hack_pages/git">
  

  <link rel="icon" type="image/png" href="https://media.readthedocs.org/images/favicon.png">

  <meta name="twitter:card" content="summary">
  <meta property="twitter:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:title" content="Using Git and GitHub to version control your code &#8212; The Princeton Handbook for Reproducible Neuroimaging">
  <meta property="og:type" content="article">
  
  <meta property="og:description" content="">


  </head><body>
  <script type="text/javascript">

  $(window).scroll(function () {
    var s = $(window).scrollTop(),
          d = $(document).height(),
          c = $(window).height();
          scrollPercent = (s / (d-c)) * 100;
          var position = scrollPercent;

     $("#progressbar").attr('value', position);
  });
  </script>

  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
  <a href="../../index.html">
    <img class="logo" width="500" src="../../_static/tigerBrain.png" title="The Princeton Handbook on Reproducible Neuroimaging"/>
  </a>
</p>

<!-- <p style="margin-left:auto; margin-right: auto;"><iframe src="https://ghbtns.com/github-btn.html?repo=book&user=datalad-handbook&type=star&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe></p> -->

<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" /> -->
<style>
.algolia-autocomplete{
  width: 100%;
  height: 1.5em
}
.algolia-autocomplete a{
  border-bottom: none !important;
}
#doc_search{
  width: 100%;
  height: 100%;
}
</style>

<progress id="progressbar" value="0" max="100"></progress>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Using Git and GitHub to version control your code</a><ul>
<li><a class="reference internal" href="#what-is-git-and-why-should-we-use-it-and-what-is-github">What is Git and why should we use it? And what is GitHub?</a></li>
<li><a class="reference internal" href="#configure-your-git-identity">Configure your Git identity</a></li>
<li><a class="reference internal" href="#initialize-a-git-repository-on-your-local-machine">Initialize a Git repository on your local machine</a></li>
<li><a class="reference internal" href="#create-a-remote-repository-on-github">Create a remote repository on GitHub</a></li>
<li><a class="reference internal" href="#clone-your-repository-onto-another-machine">Clone your repository onto another machine</a></li>
<li><a class="reference internal" href="#general-git-workflow">General Git workflow</a></li>
<li><a class="reference internal" href="#git-cheat-sheet">Git cheat sheet</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><!-- Alabaster (krTheme++) Hacks -->
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            <div style="display:block;position:relative; margin-bottom: 1em;">
              <div style="display:block;width:100%;padding-top:12.5%;"></div>
              <div class="rpad" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
            </div>
            
  <div class="section" id="using-git-and-github-to-version-control-your-code">
<h1>Using Git and GitHub to version control your code<a class="headerlink" href="#using-git-and-github-to-version-control-your-code" title="Permalink to this headline">¶</a></h1>
<style> .blue {color:blue} </style><div class="section" id="what-is-git-and-why-should-we-use-it-and-what-is-github">
<h2>What is Git and why should we use it? And what is GitHub?<a class="headerlink" href="#what-is-git-and-why-should-we-use-it-and-what-is-github" title="Permalink to this headline">¶</a></h2>
<p><em>Git</em> is a <strong>version control system</strong> for tracking changes to your code over time. Git can track the history of your code; this means that if you mess something up, you can go back in time and recover a previous version of your code. Providing the full provenance of your code also makes your workflow more transparent for others. Here’s a <a class="reference external" href="https://education.github.com/git-cheat-sheet-education.pdf">Git cheatsheet</a> to familiarize yourself with version control using Git.</p>
<p><em>GitHub</em> is a <strong>web platform</strong> that hosts collaborative software development and distribution using Git. The web interface allows you to see the history of your code and share your code with others. For more information about Git and GitHub, check out <a class="reference external" href="https://codeburst.io/git-and-github-in-a-nutshell-b0a3cc06458f">this article</a>!</p>
</div>
<div class="section" id="configure-your-git-identity">
<h2>Configure your Git identity<a class="headerlink" href="#configure-your-git-identity" title="Permalink to this headline">¶</a></h2>
<p>Set this up once! Every time you make a commit, your name and contact info will be included as the “Author”.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># check if git identity is configured</span>
$ git config --list <span class="c1"># check for user.name and user.email</span>

<span class="c1"># otherwise configure your name and email</span>
$ git config --global --add user.name <span class="s2">&quot;FirstName LastName&quot;</span>
$ git config --global --add user.email youremail@blah.com
</pre></div>
</div>
</div>
<div class="section" id="initialize-a-git-repository-on-your-local-machine">
<h2>Initialize a Git repository on your local machine<a class="headerlink" href="#initialize-a-git-repository-on-your-local-machine" title="Permalink to this headline">¶</a></h2>
<p>Let’s say you are starting a new project and you want to make sure you are using Git to track all of your code files. We are going to call this imaginary directory <cite>git-demo</cite>. You can follow along by creating your own <cite>git-demo</cite> directory anywhere on your local machine (or on the server).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mkdir git-demo
$ <span class="nb">cd</span> git-demo

<span class="c1"># initialize repo</span>
$ git init
</pre></div>
</div>
<p>You are now using Git to track files in your <cite>git-demo</cite> directory! Let’s add a file and start tracking it.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ vim demo.txt
<span class="c1"># use your text editor to type something in demo.txt</span>

$ git status <span class="c1">#demo.txt is an untracked file</span>
$ git add demo.txt <span class="c1">#stage this file for commit</span>
$ git commit -m <span class="s2">&quot;add demo.txt file&quot;</span> <span class="c1">#commit with useful message</span>

<span class="c1"># check your git log to see the commit history</span>
$ git log
$ git log -p -n <span class="m">1</span>
$ git log --oneline
</pre></div>
</div>
</div>
<div class="section" id="create-a-remote-repository-on-github">
<h2>Create a remote repository on GitHub<a class="headerlink" href="#create-a-remote-repository-on-github" title="Permalink to this headline">¶</a></h2>
<p>Now let’s say you want this repository to live remotely on GitHub. This will allow you to 1) sync your repository across multiple machines and 2) make your code easy to share.</p>
<p>First, make sure you have an account on <a class="reference external" href="https://github.com/">GitHub</a>.</p>
<p>From your GitHub account, create a new repository. Name the repository <cite>git-demo</cite>. Don’t add a README, .gitignore, or license.</p>
<p>Next, you will follow the instructions to “…push an existing repository from the command line.” Copy the url listed after <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">origin</span></code>. Go back to your terminal where you created your local <cite>git-demo</cite> directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git remote add origin https://github.com/&lt;USERNAME&gt;/git-demo.git
$ git branch -M main
$ git push -u origin main
</pre></div>
</div>
<p>Refresh your GitHub repository. You should see your demo.txt file on GitHub!</p>
<p>Now you can go ahead and add a README on GitHub. Select “Add a README”. Type anything into the README. Then choose the option to Commit directly to the main branch, and “Commit new file”.</p>
<p>The README file now exists on the remote (GitHub) version of your repository. In order to keep your remote and local repos in sync, go back to your terminal command line.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git pull
$ ls
</pre></div>
</div>
<p>You should see that the README.md file now exists in your local <cite>git-demo</cite> directory!</p>
</div>
<div class="section" id="clone-your-repository-onto-another-machine">
<h2>Clone your repository onto another machine<a class="headerlink" href="#clone-your-repository-onto-another-machine" title="Permalink to this headline">¶</a></h2>
<p>Now imagine that you have a second computer (e.g. the stimulus presentation computer at the scanner) and you want your code accessible on that machine as well. In this scenario, you can edit code on your laptop, push those changes to GitHub, then pull those changes to the computer at the scanner. If you then edit a file at the scanner, you can push those changes to GitHub and pull that change to your laptop. In this way, the code on your laptop, the scanner computer, and GitHub will all be in sync! In this scenario, the “second computer” (or third, or fourth, etc.) could also be a collaborator’s computer, your home desktop, etc.</p>
<p>For now, we are going to clone the repo to the same computer you are working on now and imagine that this is our second computer. On GitHub, copy your repository’s url.</p>
<p>From your local terminal, move outside of <cite>git-demo</cite> and create a new directory called <cite>second-computer</cite>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> ..
$ mkdir second-computer
$ <span class="nb">cd</span> second-computer

<span class="c1"># clone repo</span>
$ git clone https://github.com/&lt;USERNAME&gt;/git-demo.git
$ ls
</pre></div>
</div>
<p>You should see that you now have a <cite>git-demo</cite> directory on your “second computer”. Next, let’s make some changes to the demo.txt file on your “second computer”.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> git-demo
$ vim demo2.txt
<span class="c1"># use your text editor to add anything to demo2.txt</span>

$ git status <span class="c1">#demo2.txt is untracked</span>
$ git add demo2.txt <span class="c1">#stage file for commit</span>
$ git commit -m <span class="s2">&quot;added file on second computer&quot;</span>
$ git log

<span class="c1"># push changes to GitHub</span>
$ git remote -v <span class="c1">#check that your GitHub repo is your remote</span>
$ git push -u origin main
</pre></div>
</div>
<p>Refresh GitHub. You should see demo2.txt in your repo. Now go back to your original (“first computer”) <cite>git-demo</cite> directory and synchronize changes.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> ../../git-demo
$ git pull
$ ls
</pre></div>
</div>
<p>And now you should see that demo2.txt exists in your original <cite>git-demo</cite> directory. Everything is synchronized!</p>
<p>As one last step, examine <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> in both your original and second computer repos. Notice that the logs reflect the full commit history, regardless of if the commit happened in the original, second computer, or GitHub repository!</p>
</div>
<div class="section" id="general-git-workflow">
<h2>General Git workflow<a class="headerlink" href="#general-git-workflow" title="Permalink to this headline">¶</a></h2>
<p>Initialize Git in an empty or exisiting code directory on computer1 (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">init</span></code>). Setup a corresponding new repository on GitHub. Add GitHub as the remote to your computer1 repo (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">origin</span> <span class="pre">&lt;url&gt;</span></code>). Clone the GitHub repo to computer2 (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">&lt;url&gt;</span></code>).</p>
<p>Keep everything synchronized! Follow this workflow when working from computer1 or computer2 (or computer3, etc.).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># make sure you are working with current version of code</span>
$ git pull <span class="c1">#pull changes from GitHub</span>

<span class="c1"># then make some changes...</span>
<span class="c1"># edit a file, add new files, etc.</span>

<span class="c1"># make sure you know what you changed</span>
$ git status <span class="c1">#see modified or untracked files</span>
$ git diff &lt;filename&gt; <span class="c1">#see what has changed for a specific file</span>

<span class="c1"># the holy grail</span>
$ git add &lt;filename&gt; <span class="c1">#stage file for commit</span>
$ git commit -m <span class="s2">&quot;meaningful message&quot;</span> <span class="c1">#commit</span>
$ git push <span class="c1">#push changes to GitHub</span>

$ git log <span class="c1">#see commit history</span>
</pre></div>
</div>
</div>
<div class="section" id="git-cheat-sheet">
<h2>Git cheat sheet<a class="headerlink" href="#git-cheat-sheet" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git init                       <span class="c1">#start git tracking in a directory</span>
$ git remote add origin &lt;github-repo-url&gt; <span class="c1">#link local repo to GitHub repo</span>
$ git remote -v                  <span class="c1">#verify remote URL</span>
$ git clone &lt;github-repo-url&gt;    <span class="c1">#copy GitHub repo to local machine</span>

$ git remote add &lt;shortname&gt; &lt;url&gt; <span class="c1">#add a new remote and give it a name</span>

$ git pull                       <span class="c1">#GitHub -&gt; local repo</span>
$ git status                     <span class="c1">#list modified and untracked files</span>
$ git add &lt;filename&gt;             <span class="c1">#stage a specific file for commit</span>
$ git add --all                  <span class="c1">#stage all changes</span>
$ git add --update               <span class="c1">#stage modified (but not untracked) files</span>
$ git commit -m <span class="s2">&quot;useful message&quot;</span> <span class="c1">#save everything in staging area</span>
$ git commit --amend             <span class="c1">#edit last commit</span>
$ git push -u &lt;remote&gt; &lt;branch&gt;  <span class="c1">#local repo -&gt; GitHub, specifying which remote and which branch you want to push to</span>
$ git push                       <span class="c1">#local repo -&gt; GitHub</span>

$ git rm --cached &lt;filename&gt;     <span class="c1">#untrack a file or directory</span>
$ git mv &lt;filename&gt;              <span class="c1">#move or rename a file or directory</span>

$ git log                        <span class="c1">#show commit history</span>
$ git log --oneline              <span class="c1">#show commit history with one line for each commit</span>
$ git log -n <span class="m">1</span>                   <span class="c1">#show only last commit</span>
$ git log -p                     <span class="c1">#show detailed log</span>
</pre></div>
</div>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
<div class="footer">
  <div style="text-align: left;" id="waldo-tag-2171"></div>
  <p>&copy;2021 CC-BY-SA - <a href="website_info.html">Website Info</a></p>
</div>


 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>