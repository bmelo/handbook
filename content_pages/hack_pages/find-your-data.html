
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tips for navigating the PNI server &#8212; The Princeton Handbook for Reproducible Neuroimaging</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="canonical" href="https://brainhack-princeton.github.io/handbook//content_pages/hack_pages/find-your-data.html" />
    <link rel="shortcut icon" href="../../_static/tigerBrain_favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    div.body {
      min-width: initial;
      max-width: initial;
    }
  </style>

  
  <link rel="canonical" href="https://handbook.datalad.org/content_pages/hack_pages/find-your-data/"/>
  <meta property="og:url" content="https://handbook.datalad.org/content_pages/hack_pages/find-your-data">
  

  <link rel="icon" type="image/png" href="https://media.readthedocs.org/images/favicon.png">

  <meta name="twitter:card" content="summary">
  <meta property="twitter:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:title" content="Tips for navigating the PNI server &#8212; The Princeton Handbook for Reproducible Neuroimaging">
  <meta property="og:type" content="article">
  
  <meta property="og:description" content="">


  </head><body>
  <script type="text/javascript">

  $(window).scroll(function () {
    var s = $(window).scrollTop(),
          d = $(document).height(),
          c = $(window).height();
          scrollPercent = (s / (d-c)) * 100;
          var position = scrollPercent;

     $("#progressbar").attr('value', position);
  });
  </script>

  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
  <a href="../../index.html">
    <img class="logo" width="500" src="../../_static/tigerBrain.png" title="The Princeton Handbook on Reproducible Neuroimaging"/>
  </a>
</p>

<!-- <p style="margin-left:auto; margin-right: auto;"><iframe src="https://ghbtns.com/github-btn.html?repo=book&user=datalad-handbook&type=star&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe></p> -->

<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" /> -->
<style>
.algolia-autocomplete{
  width: 100%;
  height: 1.5em
}
.algolia-autocomplete a{
  border-bottom: none !important;
}
#doc_search{
  width: 100%;
  height: 100%;
}
</style>

<progress id="progressbar" value="0" max="100"></progress>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tips for navigating the PNI server</a><ul>
<li><a class="reference internal" href="#connecting-to-the-server">Connecting to the server</a><ul>
<li><a class="reference internal" href="#ssh-via-the-terminal-mac">ssh via the Terminal (Mac)</a></li>
<li><a class="reference internal" href="#mount-a-volume-via-finder-mac">Mount a volume via Finder (Mac)</a></li>
<li><a class="reference internal" href="#mount-a-volume-via-another-file-browser-windows">Mount a volume via another file browser (Windows)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#restoring-data-from-snapshots">Restoring data from snapshots</a></li>
<li><a class="reference internal" href="#finding-your-mri-data-on-conquest">Finding your MRI data on ‘conquest’</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><!-- Alabaster (krTheme++) Hacks -->
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            <div style="display:block;position:relative; margin-bottom: 1em;">
              <div style="display:block;width:100%;padding-top:12.5%;"></div>
              <div class="rpad" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
            </div>
            
  <div class="section" id="tips-for-navigating-the-pni-server">
<h1>Tips for navigating the PNI server<a class="headerlink" href="#tips-for-navigating-the-pni-server" title="Permalink to this headline">¶</a></h1>
<style> .blue {color:blue} </style><div class="section" id="connecting-to-the-server">
<h2>Connecting to the server<a class="headerlink" href="#connecting-to-the-server" title="Permalink to this headline">¶</a></h2>
<p>If you are not on campus, make sure you have <a class="reference external" href="https://princeton.service-now.com/service?sys_id=6023&amp;id=kb_article">connected to the Princeton network via VPN</a>.</p>
<div class="section" id="ssh-via-the-terminal-mac">
<h3>ssh via the Terminal (Mac)<a class="headerlink" href="#ssh-via-the-terminal-mac" title="Permalink to this headline">¶</a></h3>
<p>Open a new Terminal window. You can choose to login to:</p>
<ul class="simple">
<li><p>apps (use this if you are simply navigating the fileserver, copying files, etc.)</p></li>
<li><p>spock (the ‘compute cluster’)</p></li>
<li><p>scotty (for interactive sessions)</p></li>
</ul>
<p>Generally, you probably want to use scotty most of the time for debugging scripts or doing any sort of interactive work on the cluster.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Login to apps or Spock or Scotty</span>
$ ssh username@apps.pni.princeton.edu
$ ssh -XY username@spock.pni.princeton.edu
$ ssh -XY username@scotty.pni.princeton.edu
</pre></div>
</div>
<p>You can now explore and access files from apps, spock, and scotty by using the following commands and paths from your Terminal command line:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> /jukebox/YOURLAB/
$ <span class="nb">cd</span> /jukebox/scratch/
$ <span class="nb">pwd</span> <span class="c1">#print working directory</span>
$ ls <span class="c1">#list files in working directory</span>
$ <span class="nb">cd</span> .. <span class="c1">#move back a level in directory structure</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can add aliases for each of these ssh commands to your <em>.bash_profile</em> on your local machine. Then, each time you want to login to the server, you can simply type <code class="docutils literal notranslate"><span class="pre">scotty</span></code> (for example), and this will call the ssh command without having to type out the whole thing! When editing your <em>.bash_profile</em>, you will need to use the vim for text editing.</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># open .bash_profile</span>
$ vim ~/.bash_profile

<span class="c1"># using the vim text editor, add the following:</span>
<span class="c1"># alias &#39;apps&#39;=&#39;ssh netID@scotty.pni.princeton.edu&#39;</span>
<span class="c1"># alias &#39;spock&#39;=&#39;ssh -XY netID@scotty.pni.princeton.edu&#39;</span>
<span class="c1"># alias &#39;scotty&#39;=&#39;ssh -XY netID@scotty.pni.princeton.edu&#39;</span>

<span class="c1"># source your .bash_profile for changes to take effect</span>
$ <span class="nb">source</span> ~./bash_profile
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are working on a MacOS, you will use <em>.bash_profile</em>. If you are working on Linux (e.g. the server), the equivalent is <em>.bashrc</em>. Keep in mind you can also setup aliases in your <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> file on the server!</p>
</div>
</div>
<div class="section" id="mount-a-volume-via-finder-mac">
<h3>Mount a volume via Finder (Mac)<a class="headerlink" href="#mount-a-volume-via-finder-mac" title="Permalink to this headline">¶</a></h3>
<p>You can also navigate the fileservers (jukebox or scratch) more easily by mounting your lab volume on your local computer.</p>
<p>Open Finder, Go → Connect to Server</p>
<a class="reference internal image-reference" href="../../_images/connect-to-server1.png"><img alt="connect to server1" class="align-center" src="../../_images/connect-to-server1.png" style="width: 300px;" /></a>
<p>Server Address:</p>
<p>To access <em>jukebox</em>:
<a class="reference external" href="smb://bucket.pni.princeton.edu/[YOURLAB">smb://bucket.pni.princeton.edu/[YOURLAB</a>]</p>
<p>To access <em>scratch</em>:
<a class="reference external" href="smb://sink/scratch">smb://sink/scratch</a></p>
<p>Click “Connect”</p>
<a class="reference internal image-reference" href="../../_images/connect-to-server2.png"><img alt="connect to server2" class="align-center" src="../../_images/connect-to-server2.png" style="width: 600px;" /></a>
<p>If it’s your first time, you will be asked to enter your Princeton netID and password (PU password).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It may be more convenient to mount the volume and open files on your local computer for certain tasks, such as opening/editing your scripts and visualizing data (e.g. using fsleyes).</p>
<p>In order to access files on the mounted volume via a Terminal on your <em>local machine</em> (not from servers like spock, scotty, apps), your directory paths will be as follows:</p>
<ul class="simple">
<li><p>Lab volume on jukebox: <code class="docutils literal notranslate"><span class="pre">/Volumes/YOURLAB/YOURDIR</span></code></p></li>
<li><p>Scratch: <code class="docutils literal notranslate"><span class="pre">/Volumes/scratch/YOURDIR</span></code></p></li>
</ul>
</div>
</div>
<div class="section" id="mount-a-volume-via-another-file-browser-windows">
<h3>Mount a volume via another file browser (Windows)<a class="headerlink" href="#mount-a-volume-via-another-file-browser-windows" title="Permalink to this headline">¶</a></h3>
<p>From Windows Explorer, select “Map Network Drive” and enter the share name using one of the paths below. Select “Connect using a different user name”. Authenticate with your NetID and PU password. When prompted for your username, enter PRINCETONnetid (note that PRINCETON can be upper or lower case) where netid is your PU NetID.</p>
<p>Paths to use:</p>
<p>To access <em>jukebox</em>: <code class="docutils literal notranslate"><span class="pre">\\bucket\YOURLAB</span></code></p>
<p>To access <em>scratch</em>: <code class="docutils literal notranslate"><span class="pre">\\sink\scratch\</span></code></p>
<p>OR <code class="docutils literal notranslate"><span class="pre">\\sink\scratch\YOURDIR</span></code> (your personal scratch volume if you’ve already created it)</p>
</div>
</div>
<div class="section" id="restoring-data-from-snapshots">
<h2>Restoring data from snapshots<a class="headerlink" href="#restoring-data-from-snapshots" title="Permalink to this headline">¶</a></h2>
<p>At PNI, each lab has a volume on the <span class="blue">/jukebox</span> file server. Jukebox (or bucket) has a snapshot feature that enables users to restore, by themselves, files that they have mistakenly deleted. All lab volumes retain snapshots. Snapshots are taken daily and weekly. For lab volumes, daily snapshots are kept for 14 days and weekly snapshots for 4 weeks. Snapshots are taken overnight (at different times depending on the volume), so this feature can only capture files that are present when the snapshot is taken. Data created and then deleted in a single day will not be captured in a snapshot.</p>
<p>The <span class="blue">/scratch</span> volume does not have snapshots and is not backed up. It is recommended that you save your working files (with lots of intermediate files) and data undergoing analyses in <span class="blue">/scratch</span>, and then save your final results to lab volumes on <span class="blue">/jukebox</span>.</p>
<p>In order to access snapshots:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># cd to the directory where the data you need to restore (used to) live:</span>
$ <span class="nb">cd</span> /jukebox/YOURLAB/YOURDIR/

<span class="c1"># snapshots are hidden files, in order to see them:</span>
$ ls .snapshot

<span class="c1"># choose the snapshot (the version of your files) you want to restore</span>
<span class="c1"># and move into that directory</span>
$ <span class="nb">cd</span> .snapshot/norman_daily_2020_12-06-_01-15/
$ ls <span class="c1">#list files in this snapshot version</span>

<span class="c1"># copy the snapshot version of a file back to your main directory (or wherever you want it)</span>
$ cp -r &lt;snapshot-filename&gt; &lt;path-to-copy-to&gt;
</pre></div>
</div>
</div>
<div class="section" id="finding-your-mri-data-on-conquest">
<h2>Finding your MRI data on ‘conquest’<a class="headerlink" href="#finding-your-mri-data-on-conquest" title="Permalink to this headline">¶</a></h2>
<p>At the end of each of your data collection sessions at the PNI scanners, you are supposed to transfer your data to “conquest.” Conquest is a directory on the PNI fileserver (aka jukebox or bucket). You can find your transferred data using the following steps:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Login to the server</span>
<span class="c1"># then navigate to the conquest directory</span>

<span class="c1"># for data collected at Skyra</span>
$ <span class="nb">cd</span> /jukebox/dicom/conquest/Skyra-AWP45031/YOURLAB/YEAR

<span class="c1"># for data collected at Prisma</span>
$ <span class="nb">cd</span> /jukebox/dicom/conquest/Prisma-MSTZ400D/YOURLAB/YEAR

$ ls
</pre></div>
</div>
<p>You can see that raw MR data are named by the session ([Scan ID]-[Date of the Scan]-[Start Time]). Inside each of the directories, there is a folder named <em>dcm</em> - this is where your raw data (DICOM files) are saved. It takes a little bit of time (depends on the amount of data) to complete the transfer from the scanner, so it is recommended that you wait until all of your raw data have been transferred before moving onto the next steps.</p>
<p>You’ll want to copy the data from <span class="blue">/conquest</span> to your study directory (fyi, data are deleted from <span class="blue">/conquest</span> after ~8 weeks). But wait! You don’t have to do this manually. If you’re planning to proceed with using HeuDiConv to convert your DICOM data to BIDS-formatted Nifti files, you should follow the step-by-step instructions on our <a class="reference external" href="../03-02-converting.html">Converting data to BIDS using HeuDiConv</a> page.</p>
<p><a class="reference external" href="../06-01-tipsSplashPage.html">Return to tips and tricks</a></p>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
<div class="footer">
  <div style="text-align: left;" id="waldo-tag-2171"></div>
  <p>&copy;2021 CC-BY-SA - <a href="website_info.html">Website Info</a></p>
</div>


 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>